<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Java  - Streams | Jun Kang&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="Jun Kang">
<link rel="canonical" href="http://localhost:1313/tags/java----streams/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/java----streams/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/tags/java----streams/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Jun Kang&#39;s Blog (Alt + H)">Jun Kang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Java  - Streams
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">\\[Java\\] 자바 스트림(Streams)의 개념과 사용 방법

    </h2>
  </header>
  <div class="entry-content">
    <p>[Java] 자바 스트림(Streams)의 개념과 사용 방법 Java
출처 https://devbksheen.tistory.com/entry/%EB%AA%A8%EB%8D%98-%EC%9E%90%EB%B0%94-%EC%8A%A4%ED%8A%B8%EB%A6%BCStream%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80 ## 1. 자바 스트림(Streams)이란? 기존의 배열 또는 컬렉션 인스턴스는 for, foreach 같은 반복문을 통해 하나씩 핸들링하는 방식이었기에 로직이 복잡할수록 코드양도 많아지고 루프를 여러 번 도는 경우도 발생하였다. 그에 비해 자바 8에서 추가된 스트림(Streams)은 람다를 사용할 수 있는 기술 중 하나로 다음과 같은 특징을 가지고 있다. - 스트림은 데이터의 흐름이라는 뜻으로 컬렉션에 저장되어 있는 요소들을 하나씩 순회하면서 처리할 수 있는 코드패턴이다. - 함수형 프로그래밍 언어에서 일반적으로 지원하는 연산관 데이터베이스와 비슷한 연산을 지원한다. - 배열/컬렉션의 함수 여러 개를 조합하여 원하는 결과를 필터링, 가공된 결과 추출 가능하며 람다식으로 코드를 간결하게 표현할 수 있다. - 하나의 작업을 둘 이상 작업으로 잘게 쪼개 동시에 처리하며 스레드를 이용하여 많은 요소들을 빠르게 처리 가능한다. - 컬렉션은 현재 자료구조가 포함하는 모든 값을 메모리에 저장하는 자료구조인데 비해, 스트림은 요청할 때만 요소를 계산하는 고정된 자료 구조이다. 스트림에 사용에 대한 상세한 내용은 다음 3가지로 나눌 수 있다. - **스트림 생성 -** 스트림 인스턴스를 생성한다. - **스트림 가공 -** 필터링/매핑 등 원하는 결과를 가공한다. - **스트림 결과 생성 -** 스트림 결과를 만들어 내는 작업을 한다. ## 2. 스트림 생성 ### 2-1. 배열 스트림 (Array Streams) Array.stream() 메서드에 배열의 시작, 끝 인덱스를 인자로 넣으면 배열의 일부만 순회하는 스트림 객체를 생성할 수 있다. (끝 인덱스는 포함되지 않는다.) ``` java String[] arr = new String[]{&#34;a&#34;, &#34;b&#34;, &#34;c&#34;}; Stream stream = Arrays.stream(arr); Stream streamOfArrayPart = Arrays.stream(arr, 1, 3); // 1~2 요소 [b, c] ``` ### 2-2. 컬렉션 스트림 (Collection Streams) 컬렉션 인터페이스의 Stream 메서드로 스트림을 생성할 수 있다. ``` angelscript public interface Collection extends Iterable { default Stream stream() { return StreamSupport.stream(spliterator(), false); } // ... } ``` ``` java List list = Arrays.asList(&#34;a&#34;, &#34;b&#34;, &#34;c&#34;); Stream stream = list.stream(); Stream parallelStream = list.parallelStream(); // 병렬 처리 스트림 ``` ### 2-3. 비어있는 스트림 (Empty Streams) 요소가 없을 때 null 대신 사용 가능한 비어있는 스트림도 생성이 가능하다. ``` java public Stream streamOf(List list) { return list == null || list.isEmpty() ? Stream.empty() : list.stream(); } ``` ### 2-4. 빌더 (Builder) 배열이나 컬렉션을 통한 생성이 아닌 직접 원하는 값을 넣어 생성할 수도 있다. build 메서드를 통해 스트림을 리턴한다. ``` java Stream builderStream = Stream.builder() .add(&#34;Eric&#34;).add(&#34;Elena&#34;).add(&#34;Java&#34;) .build(); ``` ### 2-5. Generator Stream.generate()를 사용하면 Supplier \에 해당하는 람다로 값을 넣을 수 있다. 생성되는 스트림의 크기는 무한대 이기 때문에, 특정 사이즈로 최대 크기를 제한해야 한다. &#34;Hi&#34;라는 문자열을 5개 만들어 내는 스트림이다. (제한을 5로 걸지 않는다면 무한대로 생성할 것이다.) ``` java Stream generatedStream = Stream.generate(() -&gt; &#34;Hi&#34;).limit(5); ``` ### 2-5. iterate Stream.iterate()를 사용하면 초기값과 해당값을 다루는 람다를 사용하여 스트림에 들어간 요소를 만든다. 이 또한 generator와 동일하게 크기가 무한대이기에 특정 사이즈로 제한해야 한다. 초기값 30부터 &#43; 2씩 증가하는 스트림이다. ``` java Stream iteratedStream = Stream.iterate(30, n -&gt; n &#43; 2).limit(5); ``` ### 2-6. 기본 타입형 Streams 원시타입 (int, long, double) 스트림을 제네릭을 사용하지 않고 직접 다룰 수도 있다. range, rangeClose는 범위의 차이이다. 자바 8의 Randm 클래스는 세 가지 타입의 스트림(IntStream, LongStream, DoubleStream)이 생성 가능하다. ``` java IntStream intStream = IntStream.range(1, 5); // [1, 2, 3, 4] LongStream longStream = LongStream.rangeClosed(1, 5); // [1, 2, 3, 4, 5] DoubleStream doubles = new Random().doubles(3); // 난수 3개 생성 ``` ### 2-7. 파일 스트림 (File Streams) 자바 NIO의 Files 클래스는 파일의 각 라인을 스트링타입의 스트림으로 만들어 준다. 다음은 file.txt 파일의 데이터를 utf-8로 인코딩하여 줄 단위로 읽는 스트림이다. ``` java Stream lineStream = Files.lines(Paths.get(&#34;file.txt&#34;), Charset.forName(&#34;UTF-8&#34;)); ``` ### 2-8. 병렬 스트림 (Parallel Streams) Stream 대신 parallelStream 메서드를 사용하면 병렬 스트림을 바로 생성할 수 있다. ``` java // 병렬 스트림 생성 Stream parallelStream = productList.parallelStream(); // 배열을 이용한 병렬 스트림 생성 Arrays.stream(arr).parallel(); // 병렬 여부 확인 boolean isParallel = parallelStream.isParallel(); ``` 컬렉션과 배열이 아닌 경우는 parallel 메서드를 사용하여 처리가능하다. ``` java IntStream intStream = IntStream.range(1, 150).parallel(); boolean isParallel = intStream.isParallel(); ``` 혹은 sequentail 메서드로 다시 되돌릴 수 있다. ``` java IntStream intStream = intStream.sequential(); boolean isParallel = intStream.isParallel(); ``` ### 2-9. 스트림 연결 (Concat) Concat 메서드를 통해 스트림을 합쳐 새로운 스트림을 생성할 수 있다. ``` java Stream stream1 = Stream.of(&#34;Java&#34;, &#34;Scala&#34;, &#34;Groovy&#34;); Stream stream2 = Stream.of(&#34;Python&#34;, &#34;Go&#34;, &#34;Swift&#34;); Stream concat = Stream.concat(stream1, stream2); ``` ## 3. 스트림 가공 ### 3-1. Filter ``` dts // 인자로 받는 predicate는 boolean형을 리턴하는 평가식이 들어가야한다. Stream filter(Predicate&lt;? super T&gt; predicate); ``` 스트림 내의 요소를 &#34;필터링&#34;하여 원하는 결과만 걸러내는 작업이다. 조건식에 부합하는 요소만 선별한 스트림을 리턴한다. 다음은 &#34;a&#34;를 포함한 데이터만 뽑아낸 스트림 객체를 리턴하는 예제이다. ``` java Stream stream = names.stream() .filter(name -&gt; name.contains(&#34;a&#34;)); ``` ### 3-2. Map ``` armasm Stream map(Function&lt;? super T, ? extends R&gt; mapper); ``` 스트림 내의 요소를 하나씩 특정값으로 변환한다. 변환하기 위한 람다를 인자로 받는다. 스트림 내의 값이 input이 되어 특정 로직을 거친 후 리턴 스트림에 담기게 된다. 다음은 스트림 내의 요소를 대문자로 치환한 스트림을 리턴한다. ``` java Stream stream = names.stream() .map(String::toUpperCase); ``` ### 3-3. flatMap ``` java Stream flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper); ``` flatMap 메서드의 인자로 받는 mapper는 리턴 타입이 리턴 타입이 Stream이다. 중첩구조를 한 단계 제거하고 단일 컬렉션으로 만들어주는 역할을 한다. 다음은 중첩된 리스트 예제이다. ``` java List</p>
  </div>
  <footer class="entry-footer"><span title='2024-01-30 21:41:20 +0000 UTC'>January 30, 2024</span>&nbsp;·&nbsp;Jun Kang</footer>
  <a class="entry-link" aria-label="post link to \\[Java\\] 자바 스트림(Streams)의 개념과 사용 방법
" href="http://localhost:1313/posts/56/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Jun Kang&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
